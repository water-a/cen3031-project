(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{123:function(e,t,a){e.exports=a.p+"static/media/logo.dac70980.png"},132:function(e,t,a){e.exports=a.p+"static/media/profile.a0187d89.jpg"},136:function(e,t,a){e.exports=a(305)},141:function(e,t,a){},142:function(e,t,a){},143:function(e,t,a){},149:function(e,t,a){},150:function(e,t,a){},298:function(e,t,a){},305:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(56),i=a.n(s),l=(a(141),a(34)),c=a(36),o=a(4),u=a(5),p=a(7),m=a(6),h=a(8),d=(a(142),a(123)),b=a.n(d),f=(a(143),a(57)),g=a(11),E=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(p.a)(this,Object(m.a)(t).call(this,e)))._onClick=function(){a.refs.upload.click()},a._onChange=function(e){e.stopPropagation(),e.preventDefault();var t=e.target.files[0];t&&(a.reader.readAsDataURL(t),a.props.setGlobalState(function(){return{image:t}}))},a.reader=new FileReader,a.reader.onload=function(e){a.props.setGlobalState({preview:e.target.result})},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a,{icon:"plus",size:"6x"}),"Drop files here or click to upload");return this.props.globalState.preview&&(e=r.a.createElement("div",{className:"Preview"},r.a.createElement("img",{alt:this.props.globalState.image.name,src:this.props.globalState.preview}),r.a.createElement("span",null,this.props.globalState.image.name))),r.a.createElement("div",{className:"UploadBox"},r.a.createElement("div",{className:"Dropzone",onClick:this._onClick},r.a.createElement("div",{className:"Message"},r.a.createElement("input",{type:"file",ref:"upload",onChange:this._onChange}),e)))}}]),t}(n.Component),v=Object(g.b)(E),O=a(40),S=a.n(O),j=a(58),x=a(59),y=a.n(x),w=(a(149),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(p.a)(this,Object(m.a)(t).call(this,e)))._select=function(){var e=Object(j.a)(S.a.mark(function e(t,n){return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!a._onSelect){e.next=6;break}return e.next=3,a._onSelect(t,n);case 3:e.t0=e.sent,e.next=7;break;case 6:e.t0=!0;case 7:if(!e.t0){e.next=9;break}a.setState({index:n});case 9:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),a.state={index:a.props.index,items:a.props.items},a._renderItem=a.props.render,a._onSelect=a.props.onSelect,a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"SelectionBox"},this.state.items.map(function(t,a){return r.a.createElement("div",{key:a,onClick:e._select.bind(e._select,t,a),className:y()(["Selection",a===e.state.index&&"Active"])},e._renderItem(t,a))}))}}]),t}(n.Component)),z=function(e){function t(e){var a;Object(o.a)(this,t),(a=Object(p.a)(this,Object(m.a)(t).call(this,e)))._renderMaterialSelection=function(e,t){return r.a.createElement(r.a.Fragment,null,r.a.createElement("b",null,e.name),r.a.createElement("span",null,"$",e.costPerArea,"/in",r.a.createElement("sup",null,"2")))},a._onSelectMaterial=function(){var e=Object(j.a)(S.a.mark(function e(t,n){return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e,r){a.props.setGlobalState(function(){return{material:{index:n,item:t,custom:null}}}),e(!0)}));case 1:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}();var n=a.props.materials.slice(0);return a.state={materials:n},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(w,{key:"Material",items:this.state.materials,render:this._renderMaterialSelection,index:this.props.globalState.material.index,onSelect:this._onSelectMaterial})}}]),t}(n.Component),k=Object(g.b)(z),C=a(28),N=a.n(C),_=function(e){function t(e){var a;Object(o.a)(this,t),(a=Object(p.a)(this,Object(m.a)(t).call(this,e)))._renderSizeSelection=function(e,t){return t===a.state.sizes.length-1&&a.props.globalState.size.custom&&(e.height=a.props.globalState.size.custom.height,e.width=a.props.globalState.size.custom.width),r.a.createElement(r.a.Fragment,null,r.a.createElement("b",null,e.height&&e.width?e.height+"'x"+e.width+"'":e.name),e.height&&e.width&&"$"+(e.height*e.width*a.props.globalState.material.item.costPerArea).toLocaleString())},a._onSelectSize=function(e,t){return new Promise(function(n,r){t===a.state.sizes.length-1?N()({text:"What height would you like to use?",content:{element:"input",attributes:{type:"number"}}}).then(function(e){e?N()({text:"What width would you like to use?",content:{element:"input",attributes:{type:"number"}}}).then(function(r){if(r){var s={height:e,width:r};a.props.setGlobalState(function(e){return{size:{index:t,item:s,custom:s}}}),n(!0)}else n(!1)}):n(!1)}):(a.props.setGlobalState(function(){return{size:{index:t,item:e,custom:null}}}),n(!0))})};var n=a.props.sizes.slice(0);return n.push({name:"Custom"}),a.state={sizes:n},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(w,{key:"Size",items:this.state.sizes,render:this._renderSizeSelection,index:this.props.globalState.size.index,onSelect:this._onSelectSize})}}]),t}(n.Component),A=Object(g.b)(_),P=a(135),I=a(336),D=a(25),F=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(p.a)(this,Object(m.a)(t).call(this,e)))._submitOrder=function(){if(!a.state.process){a.setState({process:!0});var e=new FormData;e.append("material",a.props.globalState.material.item.name),e.append("height",a.props.globalState.size.item.height),e.append("width",a.props.globalState.size.item.width),e.append("image",a.props.globalState.image),fetch("/api/orders",{method:"POST",body:e}).then(function(e){return e.json()}).then(function(e){"success"===e.status?window.location.href=e.response.redirectUrl:(N()("Oops...something happened",e.message,"error"),a.setState({process:!1}))}).catch(function(){N()("Oops...something happened","Could not reach server","error"),a.setState({process:!1})})}},a.state={process:!1},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(P.a,{onClick:this._submitOrder,style:{float:"right",width:"175px"},primary:!0,secondaryText:this.state.process?"":"Buy your print via PayPal"},this.state.process?r.a.createElement(I.a,{size:D.a.large}):"Purchase")}}]),t}(n.Component),M=Object(g.b)(F),T=a(46),L=(a(150),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(p.a)(this,Object(m.a)(t).call(this,e)))._renderProgressSteps=function(){for(var e=function(e,t){var n=[e],r=t-1;return r<=a.state.index&&n.push("Completed"),r===a.state.index&&n.push("Active"),y()(n)},t=function(t){var n=t-1,s=a.state.slides[n],i=e("Step",t),l=t;r.a.isValidElement(s)||(l=r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"Name"},s.name),r.a.createElement(f.a,{icon:s.icon})));var c=a._canVisit(n);return r.a.createElement("li",{style:{cursor:c?"pointer":"index"},onClick:c?a._set.bind(Object(T.a)(Object(T.a)(a)),n):void 0,key:t,className:i},l)},n=[t(1)],s=2;s<=a.state.slides.length;s++)n.push(r.a.createElement("li",{key:s+"l",className:e("Stepline",s)})),n.push(t(s));return n},a._canVisit=function(e){if(0===e)return!0;var t=a.props.slides[e-1];return r.a.isValidElement(t)||t.preNext&&t.preNext()},a._set=function(e){a.setState({index:Math.min(Math.max(e,0),a.props.slides.length-1)})},a._back=function(){a._set(a.state.index-1)},a._next=function(){a._set(a.state.index+1)},a.state={index:0,slides:a.props.slides},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e,t=this.state.slides[this.state.index],a=t,n=!0;return r.a.isValidElement(t)||(a=t.slide,e=t.actions,t.preNext&&(n=t.preNext())),r.a.createElement("div",{className:"Carousel"},r.a.createElement("ul",{className:"Progress"},this._renderProgressSteps()),a,r.a.createElement("br",null),this.state.index>0&&r.a.createElement(P.a,{onClick:this._back,secondaryText:"Return to the previous screen"},"Back"),this.state.index<this.props.slides.length-1&&r.a.createElement(P.a,{style:{float:"right"},disabled:!n,onClick:this._next,secondaryText:"Continue to the next screen"},"Next"),e)}}]),t}(n.Component)),B=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(p.a)(this,Object(m.a)(t).call(this,e))).getArea=function(){return a.state.size.height*a.state.size.width},a.getEstimate=function(){return a.getArea()*a.state.material.costPerArea},a.state={size:e.size||{height:0,width:0},material:e.material||{name:"",costPerArea:0},preview:e.preview||""},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.props.fetch&&this.setState(this.props.fetch())}},{key:"componentWillReceiveProps",value:function(e){this.setState({size:e.size||{height:0,width:0},material:e.material||{name:"",costPerArea:0},preview:e.preview||""})}},{key:"render",value:function(){return r.a.createElement("div",{className:"Estimate"},r.a.createElement("div",{className:"Container"},r.a.createElement("img",{alt:"Preview",src:this.state.preview}),r.a.createElement("div",{className:"Information"},r.a.createElement("b",{className:"Name"},this.state.size.height,"'x",this.state.size.width,"' ",this.state.material.name," print"),r.a.createElement("span",null,this.state.material.name," - $",this.state.material.costPerArea,"/in",r.a.createElement("sup",null,"2")),r.a.createElement("span",null,"Area - ",this.getArea().toLocaleString(),"in",r.a.createElement("sup",null,"2")),r.a.createElement("span",null,"Total - $",this.getEstimate().toLocaleString()))))}}]),t}(n.Component),G=function(e){function t(){return Object(o.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return null===this.props.globalState.options.materials||null==this.props.globalState.options.sizes?r.a.createElement(I.a,{size:D.a.large,label:"Loading...",ariaLive:"assertive"}):r.a.createElement(L,{slides:[{slide:r.a.createElement(v,null),name:"Upload",icon:"file-upload",preNext:function(){return null!==e.props.globalState.image}},{slide:r.a.createElement(k,{materials:this.props.globalState.options.materials}),name:"Material",icon:"sticky-note",preNext:function(){return null!==e.props.globalState.material.index}},{slide:r.a.createElement(A,{sizes:this.props.globalState.options.sizes}),name:"Size",icon:"ruler-combined",preNext:function(){return null!==e.props.globalState.size.index}},{slide:r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",{style:{textAlign:"center"}},"Your Order"),r.a.createElement(B,{fetch:function(){return{material:e.props.globalState.material.item,size:e.props.globalState.size.item,preview:e.props.globalState.preview}}})),name:"Estimate",icon:"dollar-sign",actions:r.a.createElement(M,null)}]})}}]),t}(n.Component),U=Object(g.b)(G),q=a(64),R=a.n(q),V=a(65),J=a.n(V),W=a(121),$=function(e){function t(){return Object(o.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"FAQ"},r.a.createElement("h1",{style:{textAlign:"center"}},"FAQ"),this.props.globalState.options.content&&R()().use(W).use(J.a).processSync(this.props.globalState.options.content.faq).contents)}}]),t}(n.Component),Q=Object(g.b)($),Y=a(66),H=a(131),K=a(334),X=a(333),Z=a(48),ee=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(p.a)(this,Object(m.a)(t).call(this,e)))._submit=function(e){e.preventDefault(),fetch("/api/contact",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a.state)}).then(function(e){return e.json()}).then(function(e){"success"===e.status?(N()("Success","Submitted your information!","success"),a._clearInputs()):N()("Error",e.message,"error")})},a._clearInputs=function(){a.setState({email:"",orderId:"",issue:""})},a._handleInput=function(e){var t=e.target.value,n=e.target.name;a.setState(function(e){return Object(H.a)({},e,Object(Y.a)({},n,t))})},a.state={email:"",orderId:"",issue:""},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("form",{method:"POST",onSubmit:this._submit,className:"Contact"},r.a.createElement("h1",{style:{textAlign:"center"}},"Contact Us"),r.a.createElement(K.a,{name:"email",type:"email",label:"E-mail",value:this.state.email,onChange:this._handleInput,required:!0}),r.a.createElement("i",null,r.a.createElement(K.a,{name:"orderId",label:"Order ID (optional)",value:this.state.orderId,onChange:this._handleInput})),r.a.createElement(K.a,{name:"issue",label:"What was the issue?",value:this.state.issue,onChange:this._handleInput,multiline:!0,autoAdjustHeight:!0,required:!0}),r.a.createElement("br",null),r.a.createElement(X.a,{type:"submit",className:"button",buttonType:Z.a.primary,allowDisabledFocus:!0,text:"Submit"}))}}]),t}(n.Component),te=a(132),ae=a.n(te),ne=(a(298),a(121)),re=function(e){function t(){return Object(o.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"About"},r.a.createElement("img",{alt:"Danielle Petree",src:ae.a,height:"150px",width:"150px"}),this.props.globalState.options.content&&R()().use(ne).use(J.a).processSync(this.props.globalState.options.content.about).contents)}}]),t}(n.Component),se=Object(g.b)(re),ie=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(p.a)(this,Object(m.a)(t).call(this,e))).load=function(e){a.setState({size:e.size,material:e.material,preview:e.preview,shippingAddress:e.shippingAddress,contact:e.contact})},a.state={size:null,material:null,preview:null,shippingAddress:null,contact:null},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=new URL(window.location.href),t=e.searchParams.get("paymentId"),a=e.searchParams.get("PayerID");fetch("/api/orders/capture",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({paymentId:t,payerId:a})}).then(function(e){return e.json()}).then(this.load)}},{key:"render",value:function(){return r.a.createElement("div",{className:"Success"},this.state.size&&this.state.material&&this.state.preview&&this.state.contact&&this.state.shippingAddress?r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Your order has been successful!"),r.a.createElement("div",null,r.a.createElement("b",null,"Contact"),r.a.createElement("br",null),r.a.createElement("span",null,this.state.contact.firstName," ",this.state.contact.lastName),r.a.createElement("br",null),r.a.createElement("span",null,this.state.contact.email),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("b",null,"Shipping Address"),r.a.createElement("br",null),r.a.createElement("span",null,this.state.shippingAddress.line1),r.a.createElement("br",null),this.state.shippingAddress.line2&&r.a.createElement(r.a.Fragment,null,r.a.createElement("span",null,this.state.shippingAddress.line2),r.a.createElement("br",null)),r.a.createElement("span",null,this.state.shippingAddress.city,", ",this.state.shippingAddress.country," ",this.state.shippingAddress.postal),r.a.createElement("br",null),r.a.createElement("span",{style:{fontSize:"small"}},"(if there is an issue with this, please contact us to correct it!)")),r.a.createElement("br",null),r.a.createElement(B,{size:this.state.size,material:this.state.material,preview:this.state.preview})):r.a.createElement(I.a,null))}}]),t}(n.Component),le=function(e){function t(){return Object(o.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("/api/options").then(function(e){return e.json()}).then(function(t){e.props.setGlobalState({options:t.response})})}},{key:"render",value:function(){return r.a.createElement("div",{className:"Application"},r.a.createElement(l.b,{className:"Logo",to:"/"},r.a.createElement("img",{alt:"Petree's Prints",className:"Image",src:b.a}),r.a.createElement("span",{className:"Brand"},"Petree's Prints")),r.a.createElement("nav",null,r.a.createElement(l.c,{activeClassName:"active",exact:!0,to:"/"},"Order"),r.a.createElement(l.c,{activeClassName:"active",exact:!0,to:"/about"},"About"),r.a.createElement(l.c,{activeClassName:"active",exact:!0,to:"/faq"},"FAQ"),r.a.createElement(l.c,{activeClassName:"active",exact:!0,to:"/contact"},"Contact")),r.a.createElement("div",{className:"Container"},r.a.createElement(c.a,{exact:!0,path:this.props.match.path,component:U}),r.a.createElement(c.a,{exact:!0,path:"".concat(this.props.match.path,"about"),component:se}),r.a.createElement(c.a,{exact:!0,path:"".concat(this.props.match.path,"faq"),component:Q}),r.a.createElement(c.a,{exact:!0,path:"".concat(this.props.match.path,"contact"),component:ee}),r.a.createElement(c.a,{exact:!0,path:"".concat(this.props.match.path,"success"),component:ie})))}}]),t}(n.Component),ce=Object(g.b)(le),oe=a(29),ue=a(43),pe={image:null,material:{index:null,item:null,custom:null},size:{index:null,item:null,custom:null},options:{materials:null,sizes:null,content:null}};oe.b.add(ue.c),oe.b.add(ue.b),oe.b.add(ue.e),oe.b.add(ue.d),oe.b.add(ue.a);var me=function(){return r.a.createElement(g.a,{globalState:pe},r.a.createElement(l.a,null,r.a.createElement(c.a,{path:"/",component:ce})))};i.a.render(r.a.createElement(me,null),document.getElementById("root"))}},[[136,1,2]]]);
//# sourceMappingURL=main.dfa0746e.chunk.js.map